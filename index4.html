<!Doctype html>
<html lang="en">
<head>
	<title>Title</title>
	<meta charset="UTF-8">
</head>
<body>
<pre>
	AJAX là 1 công nghệ để trao đổi dữ liệu với máy chủ và cập nhật các phần
	của trang web mà không cần load lại toàn bộ trang

</pre>

<div id="target"></div>


<p>
	<button id="control">CLick here load ajax</button>
</p>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript">

$(document).ready(function(){
	$("control").click(function(){
		//tạo 1 obj js để gửi dữ liệu đi
		var params = {};
		// khai báo các thuộc tính cho object js
		params.current = 30;
		params.demo = "danh mục";
		params.type = "product";
		$.ajax({
			/* đích gửi dữ liệu đến
			 https://abc.com.vn/api/products */
			 url:"demo_test.txt",
			 // khai báo dữ liệu gửi đi POST hoặc GET
			 data: params,
			 // khai báo kiểu dữ liệu gửi đi
			 type: "POST",
			 // khai báo kiểu dữ liệu trao đổi
			 dataType: 'json',
			 // action trước khi gửi đi
			 beforeSend: function(){
			 	alert("chuẩn bị gửi dữ liệu");
			 }
			 // nếu gửi dữ liệu đến đích thành công
			 success: function(response){
			 	console.log(response);
			 	console.log(typeof response);
			 	var dataTrave = JSON.stringify(response);
			 	$("#target").html(dataTrave);
			 }
			 // nếu dữ liệu gửi đi thất bại
                    // ví dụ url đích đến không tồn tại hay thời điểm gửi đi
                    // url gửi đi đang bị lỗi
             error:function(){
             	alert("ajax bị lỗi");
             }
             complete:function(){
             	alert("ajax hoàn thành");
             }

		});

	});
});







// $("button").click(function(){
//  var params = {};
//  params.current = 30;
//  params.cat = 7;
//  params.type = 'product';
//  $.ajax({
//  url: "demo_test.txt",
//  data: params,
//  type: 'POST',
//  dataType: 'json',
//  beforeSend: function() {
//  alert('before send');
//  },
//  success: function(result){
//  $("#div1").html(result);
//  },
//  error: function(xhr) {
//  alert('error');
//  },
//  complete: function(xhr,status) {
//  alert('complete');
//  }
//  });
// });
	
 </script>

  
</body>
</html>